<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/consumer-layout.html}">

<head>
    <th:block layout:fragment="css">
        <link rel="stylesheet" href="../../css/my-css/custom-my-index.css">
    </th:block>
</head>

<body>

    <!-- body -->
    <div layout:fragment="body">
        <div class="container col-12 p-0">
            <!-- start carousel -->
            <div id="carouselExampleIndicators" class="carousel slide m-0 p-0" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                </ol>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img class="d-block w-100" src="/images/slider/1.png" alt="First slide">
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100" src="/images/slider/2.png" alt="Second slide">
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100" src="/images/slider/3.png" alt="Third slide">
                    </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <i class="fas fa-chevron-left col-12 rounded-circle control-slide-icon"></i>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <i class="fas fa-chevron-right col-12 rounded-circle control-slide-icon"></i>
                    <span class="sr-only">Next</span>
                </a>
            </div>
            <!-- end carousel -->
        </div>
        <h1 class="title text-center pt-5">Sản Phẩm Nổi Bật</h1>
        <h3 class="text-center pb-5">Sản phẩm tốt nhất dành cho khách hàng</h3>
        <!-- div first contain special product -->
        <div class="content col-12 d-flex">
            <!-- left -->
            <div class="left">
                <div class="left1 content-att">
                    <img src="images/index-img/2-removebg-preview.png">
                    <h1>SamSung Galaxy S10 Plus</h1>
                    <button class="btn text-light btn-detail hvr-hover">Xem chi tiết</a>
                </div>
                <div class="left2 content-att">
                    <img src="images/index-img/3-removebg-preview.png">
                    <h1>Huawei Mate 20</h1>
                    <button class="btn text-light btn-detail hvr-hover">Xem chi tiết</a>
                </div>
            </div>
            <!-- center -->
            <div class="center ml-2 mr-2 text-center">
                <img class="pt-4" src="images/index-img/1-removebg.png">
                <h1 class="mt-5">SamSung Galaxy Note 10</h1>
                <button class="btn text-light btn-detail hvr-hover">Xem chi tiết</a>
            </div>
            <!-- right -->
            <div class="right">
                <div class="right1 content-att">
                    <img src="images/index-img/4-removebg-preview.png">
                    <h1>Oppo Reno 5</h1>
                    <button class="btn text-light btn-detail hvr-hover">Xem chi tiết</a>
                </div>
                <div class="right2 content-att">
                    <img src="images/index-img/5-removebg-preview.png">
                    <h1>SamSung Galaxy Note 10 Plus</h1>
                    <button class="btn text-light btn-detail hvr-hover">Xem chi tiết</a>
                </div>
            </div>

        </div>
        <!-- end first contain special product -->
        <!-- start promotion program -->
        <div class="box-add-products mt-5">
            <div class="container text-center">
                <h2 class="pb-2">Chương Trình Khuyễn Mãi Mới Nhất Tại Cửa Hàng</h2>
                <h5 class="pb-5">*Dành cho khách hàng đăng kí tài khoản và thực hiện mua hàng trên website</h5>
                <div class="row">
                    <div class="col-lg-6 col-md-6 col-sm-12">
                        <div class="offer-box-products">
                            <img class="img-fluid" src="images/index-img/dl1.jfif" alt="" />
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12">
                        <div class="offer-box-products">
                            <img class="img-fluid" src="images/index-img/dl2.jfif" alt="" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- end promotion program -->
        <!-- Start Camket  -->
        <div class="latest-blog p-0">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="title-all text-center">
                            <h1>Cam Kết Của Cửa Hàng</h1>
                            <p>Cửa hàng cam kết chúng tôi sẽ đáp ứng tốt nhất về các yêu cầu dịch vụ cho khách hàng.</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-lg-4 col-xl-4">
                        <div class="blog-box">
                            <div class="blog-img">
                                <img class="img-fluid" src="images/cam-ket/sales-manager.jpg" alt="" />
                            </div>
                            <div class="blog-content">
                                <div class="title-blog">
                                    <h3 class="text-center">Nhân Viên Thân Thiện</h3>
                                    <p>Đội ngũ tư vấn viên và chuyển phát viên nhiệt tình, thân thiện, giải đáp các thắc
                                        mắc
                                        của khách hàng về sản phẩm nhanh và chi tiết nhất.
                                        <br>
                                        Đặt niềm tin của khách hàng làm gốc, cửa hàng cam kết mọi thông tin giải đáp
                                        luôn
                                        được nắm bắt kịp thời và chính xác dành cho khách hàng.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4 col-xl-4">
                        <div class="blog-box">
                            <div class="blog-img">
                                <img class="img-fluid" src="images/cam-ket/guarantee.jpg" alt="" />
                            </div>
                            <div class="blog-content">
                                <div class="title-blog">
                                    <h3 class="text-center">Chất lượng sản phẩm</h3>
                                    <p>Cửa hàng cam kết mọi sản phẩm trưng bày và kinh doanh tại cửa hàng đều là những
                                        sản
                                        phẩm có nguồn gốc rõ ràng.
                                        <br />
                                        Chất lượng sản phẩm được kiểm định nhằm tạo dựng niềm tin về sản phẩm từ cửa
                                        hàng
                                        đối với khách hàng.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4 col-xl-4">
                        <div class="blog-box">
                            <div class="blog-img">
                                <img class="img-fluid" src="images/cam-ket/freeship2.jpg" alt="" />
                            </div>
                            <div class="blog-content">
                                <div class="title-blog">
                                    <h3 class="text-center">Dịch vụ chuyển phát</h3>
                                    <p>Dịch vụ chuyển phát của cửa hàng phục vụ 24/7, giao hàng mọi nơi trên toàn quốc.
                                        <br />
                                        Phí vận chuyển sẽ được miễn phí hoặc tính theo khoảng cách vận chuyển và số
                                        lượng
                                        sản phẩm đặt mua giúp khách hàng an tâm khi đặt mua sản phẩm từ cửa hàng. Rõ
                                        ràng và
                                        nhanh chóng.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end cam kết -->
        </div>
        <!-- end script -->
    </div>
    <!-- end script -->
    <th:block layout:fragment="scripts">
        <script>

            $.fn.serializeObject = function () {
                var o = {};
                var a = this.serializeArray();
                $.each(a, function () {
                    if (o[this.name]) {
                        if (!o[this.name].push) {
                            o[this.name] = [o[this.name]];
                        }
                        o[this.name].push(this.value || '');
                    } else {
                        o[this.name] = this.value || '';
                    }
                });
                return o;
            };
            function resetRegisterPass() {
                $('#newpassword').val("");
                $('#confirmpassword').val("");
            }

            function resetRegisterInput() {
                $('#newemail').val("");
                $('#newfullname').val("");
                $('#newpassword').val("");
                $('#confirmpassword').val("");
            }

            function showMessage(isSuccess, message, carrier) {
                if (isSuccess) {
                    if (carrier.hasClass('error'))
                        carrier.removeClass('error');
                    carrier.addClass("success");
                    carrier.hide().text(message).fadeIn('slow');
                } else {
                    if (carrier.hasClass('success'))
                        carrier.removeClass('success');
                    carrier.addClass("error");
                    carrier.hide().text(message).fadeIn('slow');
                }
            }
            $('#register-form').submit(function (e) {
                var btn = $('#btn-register');
                var carrier = $('#show-register-message');
                e.preventDefault();
                showMessage(true, "Đang xử lý", carrier);
                btn.prop('disabled', true);
                $.ajax({
                    type: 'POST',
                    data: JSON.stringify($(this).serializeObject()),
                    contentType: 'application/json',
                    accept: 'text/plain',
                    url: '/user/register',
                    success: function (result) {
                        switch (result) {
                            case 'emptyfield':
                                showMessage(false, "Hãy điền đủ các trường", carrier);
                                break;
                            case 'errname':
                                showMessage(false, "Họ và tên của bạn không hợp lệ", carrier);
                                break;
                            case 'errmail':
                                showMessage(false, "Email của bạn không hợp lệ", carrier);
                                break;
                            case 'errmailexist':
                                showMessage(false, "Email của bạn đã tồn tại", carrier);
                                break;
                            case 'confirmpass':
                                showMessage(false, "Mật khẩu nhập lại không trùng khớp", carrier);
                                break;
                            case 'errpass':
                                showMessage(false, "Mật khẩu phải nhiều hơn 8 ký tự,có ít nhất 1 ký thường,hoa,số,đặc biệt", carrier);
                                break;
                            case 'success':
                                resetRegisterInput();
                                showMessage(true, "Đăng ký thành công. Hãy kiểm tra email của bạn", carrier);
                                break;
                            case 'errsendmail':
                                showMessage(false, "Đã có lỗi xảy ra khi gửi mail", carrier);
                                break;
                            default:
                                showMessage(false, "Đã xảy ra lỗi", carrier);
                                break;
                        }
                        btn.prop('disabled', false);
                    },
                    error: function (request, status, error) {
                        showMessage(false, "Đã có lỗi xảy ra với hệ thống", carrier);
                        btn.prop('disabled', false);
                    }
                });
                
            });
            $('#login-form').submit(function (e) {
                var password = $('#password');
                e.preventDefault();
                var btn = $('#btn-login');
                var carrier = $('#show-login-message');
                btn.prop('disabled', true);
                $.ajax({
                    type: 'POST',
                    data: $(this).serialize(),
                    contentType: 'application/x-www-form-urlencoded',
                    accept: 'text/plain',
                    url: '/user/login',
                    success: function (result) {
                        switch (result) {
                            case 'emptyfield':
                                showMessage(false, "Hãy điền đủ các trường", carrier);
                                break;
                            case 'success':
                                showMessage(true, "Đăng nhập thành công", carrier);
                                window.location.href="/";
                                break;
                            case 'failed':
                                showMessage(false, "Email hoặc mật khẩu của bạn có thể đã sai", carrier);
                                break;
                            default:
                                showMessage(false, "Đã xảy ra lỗi", carrier);
                                break;
                        }
                        btn.prop('disabled', false);
                    },
                    error: function (request, status, error) {
                        showMessage(false, "Đã có lỗi xảy ra với hệ thống", carrier);
                        btn.prop('disabled', false);
                    }
                });
                btn.prop('disabled', false);
            });
        </script>
    </th:block>
</body>

</html>